@import 'https://fonts.googleapis.com/css?family=Montserrat:400';
@import 'https://fonts.googleapis.com/css?family=Montserrat:700';

:root {
    font-size: 11pt;
    --panel-width: 40rem;
    --panel-height: 17rem;
    --panel-padding: 1rem;
    --panel-border-radius: 0.5rem;
    --temperature-bar-height: 1.25rem;
    --pollutant-bar-height: 0.9rem;
    --margin-between-days: 1.4rem;
    --color-text: #333;
    --color-accent: #1e5799;
    --color-dimmed: rgba(0, 0, 0, 0.5);
    --color-positive: #278454;
    --color-negative: #a93333;
    --color-panel-bg: white;
    --color-bar-bg: rgba(255, 255, 255, 0.05);
    --color-shadow: rgba(0, 0, 0, 0.07);
}

body {
    margin: 0.5rem;
    font-family: Montserrat, Verdana;
    background: #efefef;
    color: var(--color-text);
    letter-spacing: 0.03rem;
}

div.info-box {
    width: var(--panel-width);
    margin: var(--margin-between-days) auto 0 auto;
    position: relative;
    display: grid;
    grid-gap: 1rem;
}

div.info-box:not(.current) {
    grid-template-rows: auto;
    grid-template-columns: 3rem 2.5rem 1fr;
    grid-template-areas: "day icon bar";
    align-items: center;
    width: calc(var(--panel-width) - var(--panel-padding) * 2);
}

div.info-box:not(.current):before,
div.info-box:not(.current):after {
    width: 3rem;
    color: var(--color-accent);
    text-transform: uppercase;
    position: absolute;
    left: 0;
}

div.info-box:not(.current):before {
    content: attr(day-of-week);
    font-weight: 700;
    top: 0.3rem;
}

div.info-box:not(.current):after {
    content: attr(day-of-month);
    font-size: 70%;
    bottom: 0.1rem;
}

div.info-box:not(.current)[day-of-week="Sob"]:before,
div.info-box:not(.current)[day-of-week="Sob"]:after {
    color: var(--color-dimmed);
}

div.info-box:not(.current).shops-open:before,
div.info-box:not(.current).shops-open:after {
    color: var(--color-positive);
}

div.info-box:not(.current).shops-closed:before,
div.info-box:not(.current).shops-closed:after {
    color: var(--color-negative);
}

div.info-box canvas {
    grid-area: icon;
    width: 2.5rem;
    margin: 0 auto;
}

div.temperature-range {
    grid-area: bar;
    display: grid;
    grid-auto-flow: column;
    margin: 0 2rem;
}

div.temperature-range span.bar {
    height: var(--temperature-bar-height);
    background: var(--color-accent);
    border-radius: var(--panel-width);
    line-height: var(--temperature-bar-height);
    position: relative;
}

div.temperature-range span.bar:before,
div.temperature-range span.bar:after {
    width: 2rem;
    letter-spacing: 0.05rem;
    position: absolute;
    color: var(--color-text);
    font-size: 90%;
}

div.temperature-range span.bar:before {
    content: attr(temp-min) "˚";
    text-align: right;
    left: -2.3rem;
}

div.temperature-range span.bar:after {
    content: attr(temp-max) "˚";
    right: -2.5rem;
}

div.info-box.current {
    background: var(--color-panel-bg);
    border-radius: var(--panel-border-radius);
    box-shadow: 0 0.25rem 0.5rem 0 var(--color-shadow);
    margin-bottom: 2rem;
}

div.info-box.current div.weather {
    display: grid;
    grid-template-rows: auto 2rem;
    grid-template-columns: 7rem 5rem 1fr;
    grid-template-areas: "icon temperature summary"
                         "bar  bar         bar";
    grid-gap: 0.5rem;
    padding: var(--panel-padding);
}

div.info-box.current div.weather canvas {
    grid-area: icon;
    width: 6rem;
    margin: 0 auto;
}

div.info-box.current div.weather span.temperature {
    grid-area: temperature;
    font-size: 3rem;
    font-weight: 700;
    color: var(--color-accent);
}

div.info-box.current div.weather span.temperature span {
    position: relative;
}

div.info-box.current div.weather span.temperature span:after {
    content: "˚C";
    font-size: 40%;
    position: absolute;
    top: 0.3em;
    right: -1.2em;
}

div.info-box.current div.weather span.summary {
    grid-area: summary;
    margin-left: 0.5rem;
    padding-top: 0.5rem;
    font-size: 150%;
    color: var(--color-accent);
    letter-spacing: 0;
}

div.info-box.current div.weather div.hourly-bar {
    grid-area: bar;
    display: grid;
    grid-template-rows: 2rem;
    border-radius: 0.25rem;
    overflow: hidden;
}

div.info-box.current div.weather div.hourly-bar div {
    height: 2rem;
}

div.info-box.current div.weather div.hourly-bar div.clear {
    background: #dedede;
}

div.info-box.current div.weather div.hourly-bar div.partly-cloudy {
    background: #c5c5c5;
}

div.info-box.current div.weather div.hourly-bar div.cloudy {
    background: #9c9c9c;
}

div.info-box.current div.weather div.hourly-bar div.rain {
    background: #77a5da;
}

div.info-box.current div.weather div.hourly-bar div.fog {
    background: repeating-linear-gradient(to bottom, darkgrey 0, darkgrey 2px, silver 4px, silver 6px);
}

div.air-quality {
    background: gray;
    color: var(--color-panel-bg);
    display: grid;
    height: fit-content;
    padding: var(--panel-padding);
    grid-template-rows: repeat(2, var(--pollutant-bar-height));
    grid-template-columns: auto auto 1fr auto;
    grid-template-areas: "index pm25-name pm25-bar pm25-percent"
                         "index pm10-name pm10-bar pm10-percent";
    grid-gap: 0.5rem;
    border-bottom-left-radius: var(--panel-border-radius);
    border-bottom-right-radius: var(--panel-border-radius);
}

div.air-quality span.value {
    grid-area: index;
    font-size: 2.5rem;
    line-height: 2rem;
    position: relative;
    margin-right: 3.5rem;
}

div.air-quality span.value:before {
    content: "CAQI";
    font-size: 0.9rem;
    line-height: 0.9rem;
    position: absolute;
    top: 0;
    right: -2.5rem;
}

div.air-quality span.pollutant {
    display: block;
    height: var(--pollutant-bar-height);
    line-height: var(--pollutant-bar-height);
    font-size: 0.9rem;
}

div.air-quality span.pollutant.name {
    grid-area: pm25-name;
}

div.air-quality span.pollutant.bar,
div.air-quality span.pollutant.bg {
    grid-area: pm25-bar;
    display: block;
    background: var(--color-panel-bg);
    height: var(--pollutant-bar-height);
    border-radius: var(--panel-width);
}

div.air-quality span.pollutant.bg {
    background: var(--color-bar-bg);
}

div.air-quality span.pollutant.percentage {
    grid-area: pm25-percent;
    text-align: right;
}

div.air-quality span.pollutant[pollutant="PM10"].name {
    grid-area: pm10-name;
}

div.air-quality span.pollutant[pollutant="PM10"].bar,
div.air-quality span.pollutant[pollutant="PM10"].bg {
    grid-area: pm10-bar;
}

div.air-quality span.pollutant[pollutant="PM10"].percentage {
    grid-area: pm10-percent;
}

div.air-quality.very-low,
div.air-quality.very-low:after {
    background: #399323;
}

div.air-quality.low,
div.air-quality.low:after {
    background: #949E0C;
}

div.air-quality.medium,
div.air-quality.medium:after {
    background: #C1970B;
}

div.air-quality.high,
div.air-quality.high:after {
    background: #D16623;
}

div.air-quality.very-high,
div.air-quality.very-high:after {
    background: #D62A2A;
}

div.air-quality.extreme,
div.air-quality.extreme:after {
    background: #A50052;
}

div.air-quality.airmageddon,
div.air-quality.airmageddon:after {
    background: #6D006D;
}

@media (min-width: 40em) and (max-width: 60em) {
:root {
    font-size: 10pt;
}
}

@media (max-width: 40em) {
:root {
    --panel-width: 26rem;
    font-size: 9pt;
}
}
